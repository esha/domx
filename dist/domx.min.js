/*! domx - v0.17.2 - 2017-04-06
* http://esha.github.io/domx/
* Copyright (c) 2017 ESHA Research; Licensed ,  */
!function(a,b,c){"use strict";c={slice:Array.prototype.slice,zero:function(){return 0},isList:function(a){return a&&"object"==typeof a&&"length"in a&&!a.nodeType||a instanceof NodeList||a instanceof HTMLCollection},define:function(a,b,d,e){if("string"==typeof b)for(var f=0,g=a.length;f<g;f++)c.defprop(a[f].prototype||a[f],b,d,e);else for(var h in b)c.define(a,h,b[h],d)},defprop:function(a,b,c,d){if(d||!(b in a))try{var e=c.get||c.set?c:{value:c,writable:!0};e.configurable=!0,Object.defineProperty(a,b,e)}catch(a){}},resolve:function(a,b,d,e){var f=a,g=b;if(d=d.length?c.fill(d,e,g):null,f.indexOf(".")>0){for(var h=f.split(".");h.length>1&&(g=g[f=h.shift()]););void 0===g?(g=b,f=a):f=h[0]}var i=g[f];if(void 0!==i){if("function"==typeof i&&i.apply)return i.apply(g,d);if(!d)return i;g[f]=d[0]}else if(1===b.nodeType){if(!d)return b.getAttribute(a);null===d[0]?b.removeAttribute(a):b.setAttribute(a,d[0])}},fill:function(a,b,c){for(var d=[],e=0,f=a.length;e<f;e++){var g=a[e],h=typeof g;d[e]="string"===h?g.replace(/\$\{i\}/g,b):"function"===h?g(c,b,a):g}return d},alias:{}},b={version:"0.17.2",_:c,alias:function(a,b){if("object"==typeof a)for(var d in a)c.alias[d]=a[d]+"";else c.alias[a]=b+""},add:function(a,d,e,f){Array.isArray(e)||(f=e,e=b.nodes),c.define(e,a,d,f),"function"==typeof d&&c.define(b.lists,a,function(){var a=arguments;return this.each(function(){return d.apply(this,a)})},f)},nodes:[Element,Text,Comment],parents:[Element,DocumentFragment,a]},b.List=function(a){"number"==typeof a?(this.limit=a,this.add(c.slice(arguments,1))):this.add(arguments)},c.define([b.List],{length:0,limit:void 0,add:function(a){var b=this.length;if(arguments.length>1||c.isList(a))for(var d=arguments.length>1?arguments:a,e=0,f=d.length;e<f;e++)this.add(d[e]);else null!==a&&void 0!==a&&this.indexOf(a)<0&&(this[this.length++]=a,this.length===this.limit&&(this.add=c.zero));return this.length-b},isFull:function(){return this.add===c.zero},indexOf:function(a){for(var b=0;b<this.length;b++)if(a===this[b])return b;return-1}}),b.lists=[NodeList,HTMLCollection,b.List],b.containers=b.parents.concat(b.lists),c.defprop(a,"x",b),c.define([Node].concat(b.lists),{each:function(a){var d,e,f=c.isList(this)?this:[this],g=[];"string"==typeof a&&(d=c.alias[a]||a,e=c.slice.call(arguments,1),a=function(a,b){return c.resolve(d,a,e,b)});for(var h,i=0,j=f.length;i<j;i++)((h=a.call(f[i],f[i],i,f))||d&&void 0!==h)&&g.push(h);return g.length?c.isList(this)?g[0]&&g[0].each?new b.List(g):g:g[0]:this},toArray:function(a){if(a=a||[],c.isList(this))for(var b=0,d=this.length;b<d;b++)a.push(this[b]);else a.push(this);return a}}),c.define(b.containers,{queryAll:function(a,d){for(var e=c.isList(this)?this:[this],f=new b.List(d),g=0,h=e.length;g<h&&(!d||d>f.length);g++)f.add(e[g][d===f.length+1?"querySelector":"querySelectorAll"](a));return f},query:function(a){return this.queryAll(a,1)[0]}}),c.define(b.lists,{only:function(a,c){var d=this.toArray();return d=a>=0||a<0?d.slice(a,c||a+1||void 0):d.filter("function"==typeof a?a:1===arguments.length?function(b){return b[b.matches?"matches":"hasOwnProperty"](a)}:function(b){return(b.each?b.each(a):b[a])===c}),new b.List(d)},not:function(a){var b=a instanceof Node?[a]:this.only.apply(this,arguments);return this.only(function(a){return b.indexOf(a)<0})}}),c.estFnArgs=function(a,b,d,e){if(b=c.alias[b]||b,b in a||(e=void 0===d?"boolean"!=typeof b||b:d,d=b,b="parentElement"),"boolean"==typeof d&&(e=d,d=null),d){if("string"==typeof d){var f=d;d=function(a){return a.matches&&a.matches(f)}}}else d=function(){return!0};return[b,d,e||!1]},c.define(b.nodes,"farthest",function(a,b,d){var e=c.estFnArgs(this,a,b,d);return c.farthest(this,e[0],e[1],e[2]&&e[1](this)?this:null)}),c.farthest=function(a,b,d,e){return a&&(a=a[b])?c.farthest(a,b,d,d(a)?a:e):e},c.define(b.nodes,"nearest",function(a,b,d){var e=c.estFnArgs(this,a,b,d);return e[2]&&e[1](this)?this:c.nearest(this,e[0],e[1])}),c.nearest=function(a,b,d){return a&&(a=a[b])?d(a)?a:c.nearest(a,b,d):null},c.define(b.nodes,"closest",function(a){return this.nearest(a?a+"":"*",!0)}),b.add("all",function(a,d,e,f){d===!0&&(e=d,d=void 0),f=f||new b.List;var g=e?this:this[c.alias[a]||a];if(g){var h=d&&d.call(this,g,f);null!==h&&f.add(h||g),!g.all||!g.length&&c.isList(g)||g.all(a,d,!1,f)}return f},[Node]);var d=Element.prototype,e="atchesSelector";c.defprop(d,"matches",d.m||d["webkitM"+e]||d["mozM"+e]||d["msM"+e]);var f=c.insert={create:function(b,c,d){return f.insert(b,a.createElement(c),d)},insert:function(a,b,c){var d=f.find(a,c);return d?a.insertBefore(b,d):a.appendChild(b),b},find:function(a,b){switch(typeof b){case"string":return a[b]||a.only(b);case"number":return a.children[b];case"object":return b;case"function":return b.call(a,a)}}};b.add("insert",function(a,d){if("string"==typeof a)return f.create(this,a,d);if(c.isList(a)){for(var e=new b.List,g=0,h=a.length;g<h;g++)e.add(this.insert(a[g],d));return e}return f.insert(this,a,d),a},b.parents),b.add("remove",function(){var a=this.parentNode;a&&a.removeChild(this)});var g=c.insert;g.create=function(b,d,e){var f=a.createDocumentFragment(),h=c.emmet(f,d);return g.insert(b,f,e),h},c.emmet=function(a,b){for(var c=b.split(h.split),d=a;c.length;){var e=h.next(c),f=h[e.charAt(0)],g=f?e.substr(1)||h.next(c):e;a=(f||h[">"]).call(a,g,d)||a}return a};var h=g.emmet={"#":function(a){this.each("id",a)},".":function(a){this.each("classList.add",a)},"[":function a(b){b=b.substr(0,b.length-1).match(/(?:[^\s"]+|("[^"]+"))+/g);for(var c=0,d=b.length;c<d;c++){var a=b[c].split("=");this.each("setAttribute",a[0],(a[1]||"").replace(/"/g,""))}},">":function(d){var e=this;return d.charAt(0)in h?c.emmet(e,d):this instanceof b.List?this.insert(d):(e=a.createElement(d),this.appendChild(e),e)},"*":function(a,c){for(var d=h.parent(this)||c,e=new b.List(this),f=1;f<a;f++)e.add(this.each("cloneNode",!0)),d.insert(e[f]);return e},"{":function(b){this.appendChild(a.createTextNode(b.substr(0,b.length-1)))},"(":function d(e){var d=a.createDocumentFragment();c.emmet(d,e.substr(0,e.length-1));var f=new b.List(d.childNodes);return this.appendChild(d),f},"+":function(a){return h[">"].call(h.parent(this),a)},"^":function(a){return h["+"].call(h.parent(this),a)},",":function(a,b){return h[">"].call(b,a)},ends:{"[":"]","{":"}","(":")"},parent:function(a){return a&&(a.parentNode||a.each("parentNode")[0])},split:/(?=\#|\,|\.|\[|\>|\+|\*|\^|\{|\()/g,next:function(a){var b=a.shift(),c=b&&h.ends[b.charAt(0)];if(c){for(;c!==b[b.length-1]||"\\"===b[b.length-2];)b+=a.shift()||c;b=b.replace(new RegExp("\\\\\\"+c,"g"),c)}return b}};c.defprop(a,"html",a.documentElement);var i=c.dot={names:{3:"$text",8:"$comment",7:"$procins"},fns:{},fn:function(a,b){return i.fns[b]||(i.fns[b]=1===a?function(){return this.each("children").only(b).dot()}:function(){return this.each("childNodes").only("nodeType",a)})},init:function(){a.queryAll("[x-dot]").each(function(a){a.dot(!0),j&&!a._observer&&(a._observer=new j(function(a){for(var b=0,c=a.length;b<c;b++)a[b].target.dot(!0)})).observe(a,{childList:!0,subtree:!0})})}},j=window.MutationObserver;c.define(b.containers,"dot",function(a){var b=this;return!a&&b._dotted||(b.each("childNodes").each(function(a){var d=a.nodeType,e=i.names[d]||a.tagName.toLowerCase();e in b||c.defprop(b,e,{get:i.fn(d,e)}),1===d&&a.dot()}),c.defprop(b,"_dotted",!0)),b}),i.init(),a.addEventListener("DOMContentLoaded",i.init)}(document);